<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <style>
      svg { 
        display: block;
        margin: 0 auto;
      }

      img.block {
        display: block;
        border: solid #333 1p;
        margin: 0 auto;
      }

      svg {
        margin-bottom: 15px;
      }

      .step {
        padding-bottom: 90px;
        margin-bottom: 10px;
      }

      .step, .row {
        padding-top: 2rem;
      }

      .step:last-of-type {
        padding-bottom: 150px;
      }

      .active {
        background: beige;
      }

      footer {
        background: #f1f1f1;
        color: #333;
        padding: 60px 0;
        text-align: center;
      }

      /* 
        Begin Full-bleed backgrounds 

        Many ways to fix up the text to be readable
        https://css-tricks.com/design-considerations-text-images/
      */

      .bg1 {
        background: url('background.jpg');
      }

      .bg2 {
        background: url('background.jpg');
      }

      .background-image {
        background-size: cover;
        padding: 250px 50px;
        /* 
          This means...
          150px spacing between text and top/bottom of image
          20px spacing between text and left/right of screen
        */
        color: white;
        text-align: center;
        text-shadow: 0 0 5px rgba(0,0,0,0.5), 
                     0 0 15px rgba(0,0,0,0.5),
                     0 0 25px rgba(0,0,0,0.5);
      }

      .background-image h1 {
        text-transform: uppercase;
        font-size: 72px;
      }
      /* 
        End full-bleed backgrounds 
      */

      /* 
        The following allows us to make the graphic
        "sticky" to the top of the page. The "top"
        attribute should probably be the same as
        the offset for scrollama (but % instead of decimal)
      */

      .sticky {
        position: -webkit-sticky;
        position: -moz-sticky;
        position: -ms-sticky;
        position: -o-sticky;
        position: sticky;
        height: fit-content;
        top: 33%;
      }

      .graphic h3 {
        text-align: center;
        padding-bottom: 0;
      }

      img {
        max-width: 100%;
      }
    </style>
  </head>
</head>
<body>
  <div class="background-image bg1">
    <h1>Countries, GDP and life expectancy</h1>
    <h3>Because it's the only data set we've ever touched</h3>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <img src="gallery/antlers.jpg">
        <img src="gallery/nature.jpg">
        <img src="gallery/tea.jpg">
        <img src="gallery/wood.jpg">
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <table>
          <thead>
            <tr>
              <th>One</th>
              <th>Two</th>
              <th>Three</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>One</td>
              <td>3</td>
              <td>Three</td>
            </tr>
            <tr>
              <td>22</td>
              <td>2</td>
              <td>Seven</td>
            </tr>
            <tr>
              <td>Ninety</td>
              <td>USA</td>
              <td>Bugs</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-4">
        <div class="step" id="all-countries">
          <p><em>Images from <a href="http://unsplash.com">unsplash.com</a></em></p>
          <h3>All countries should be visible.</h3>
          <p>I want to see <strong>every country</strong> on the scatter plot.</p>
        </div>
        <div class="step" id="europe-highlight">
          <h3>European countries should highlight here.</h3>
          <p>Let's make them blue.</p>
        </div>
        <div class="step" id="europe-show">
          <h3>Only European countries should be shown.</h3>
          <p>And you can't just use <code>.attr("r", 0)</code>.</p>
        </div>
        <div class="step" id="africa-show">
          <h3>Only African countries should be shown.</h3>
          <p>Same as above.</p>
        </div>
        <div class="step" id="everything">
          <h3>Now all countries should appear again.</h3>
          <p>They should all be grey.</p>
        </div>
        <div class="step" id="bar-average">
          <h3>A bar for each continent</h3>
          <p>Show me average life expectancy for that continent.</p>
        </div>
      </div>
      <div class="col-sm-8 graphic sticky">
        <div id="graphic-1"></div>
      </div>
    </div>
  </div>

  <div class="background-image bg1">
    <h1>Terrorism</h1>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <div class="step" id="terror-europe">
          <p><em>Images from <a href="http://unsplash.com">unsplash.com</a></em></p>
          <h3>Let's start by showing Europe.</h3>
          <p>This will give us an anchor point, and make us think about how big the circles are for Europe.</p>
        </div>
        <div class="step" id="terror-all">
          <h3>Now, add the rest of the world.</h3>
          <p>Suddenly Europe doesn't seem nearly as troubled.</p>
        </div>
        <div class="step" id="terror-map">
          <h3>Now, move to a map.</h3>
          <p>Now we can display this on a map</p>
        </div>
        <div class="step" id="terror-bar">
          <h3>Now, move to a bar chart.</h3>
          <p>Now that we're interested, this will give us the specific numbers (kind of)</p>
        </div>
      </div>
      <div class="col-sm-8 graphic sticky">
        <div id="graphic-2"></div>
      </div>
    </div>
  </div>

  <div class="background-image bg1">
  </div>

  <footer>
    This is a little space at the bottom.
  </footer>

  <!-- This is D3, our graphing library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>

  <!-- include our scrolling library -->
  <script src='https://unpkg.com/scrollama'></script>
  <script src='stickyfill.min.js'></script>
  
  <script>
    /* Allow position: sticky to work in old browsers */
    var elements = document.querySelectorAll('.sticky');
    Stickyfill.add(elements);

    // instantiate the scrollama
    var scroller = scrollama();

    scroller
      .setup({
        offset: 0.33, // how far from the top?
        step: '.step', // class for stepping through
        debug: true, // shows the line
        container: 'container'
      })
      .onStepEnter(function(response) {
        // trigger the stepin event
        d3.select(response.element).dispatch('stepin')
      })
      .onStepExit(function(response) {
        // trigger the stepout event
        d3.select(response.element).dispatch('stepout')
      })
  </script>

  <script src='01-life-expectancy.js'></script>
  <script src='02-terrorism.js'></script>
</body>
</html>